<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>作用域和闭包</title>
</head>
<body>
    <h1>js 基础 第三课:作用域和闭包</h1>
</body>
<script type="text/javascript" src="aboutThis.js"></script>
<script type="text/javascript" src="selfBind.js"></script>
<script type="text/javascript">
    // 闭包：作用域应用的特殊情况（以下两种）
    // 自由变量（未声明但被使用）的查找，是在函数定义的地方向上级作用域查找，而非函数执行的地方
    const num = 200;

    // 函数作为返回值
    function foo() {
        const num = 100;
        return function () {
            console.log('foo: ' + num);
        }
    }

    // 函数作为参数被传递
    function print(fn) {
        const num = 300;
        fn();
    }

    function fn() {
        console.log('fn: ' + num);
    }

    print(fn);

    // 笔试场景题
    const number = 10;
    for (let i = 0; i < number; i++) {
        const dom = document.createElement('div');
        dom.innerText = `第 ${i + 1} 个 div`;
        dom.addEventListener('click', function () {
            alert(`第 ${i + 1} 个 div`);
        });
        document.body.appendChild(dom);
    }
</script>
</html>